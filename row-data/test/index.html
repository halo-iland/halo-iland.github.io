<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>スクロールに応じたClip-path変更</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 3000px; /* スクロール用に長めのページを作成 */
        }
        .target-element {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 300px;
            height: 300px;
            background-color: #3498db;
            clip-path: ellipse(15% 10% at 50% 50%);
            transition: clip-path 0.1s ease-out;
        }
    </style>
</head>
<body>
    <div class="target-element"></div>

    <script>
        const targetElement = document.querySelector('.target-element');
        const startScrollPosition = window.innerHeight * 0.5;
        const endScrollPosition = window.innerHeight * 1.5;

        function updateClipPath() {
            const scrollPosition = window.scrollY;
            let progress = (scrollPosition - startScrollPosition) / (endScrollPosition - startScrollPosition);
            progress = Math.max(0, Math.min(1, progress));

            const startSize = 15;
            const endSize = 100;
            const currentSize = startSize + (endSize - startSize) * progress;

            targetElement.style.clipPath = `ellipse(${currentSize}% ${currentSize * 0.67}% at 50% 50%)`;
        }

        window.addEventListener('scroll', updateClipPath);
        updateClipPath(); // 初期状態を設定
    </script>
</body>
</html>